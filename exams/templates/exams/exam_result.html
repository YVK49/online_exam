<style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        font-family: Arial, sans-serif;
    }

    th, td {
        border: 1px solid #000;
        padding: 8px 12px;
        text-align: center;
    }

    th {
        background-color: #000;
        color: #fff;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    tr:hover {
        background-color: #ddd;
    }

    h2, h3 {
        font-family: Arial, sans-serif;
    }
</style>

<h2>Exam Report: {{ exam.title }}</h2>

<h3>Summary</h3>
<table>
    <tr>
        <th>Subject</th>
        <th>Attempted</th>
        <th>Not Attempted</th>
        <th>Correct</th>
        <th>Wrong</th>
        <th>Marks Obtained</th>
        <th>Total Marks</th>
    </tr>
    {% for subject, data in subject_stats.items %}
    <tr>
        <td>{{ subject }}</td>
        <td>{{ data.attempted }}</td>
        <td>{{ data.not_attempted }}</td>
        <td>{{ data.correct }}</td>
        <td>{{ data.wrong }}</td>
        <td>{{ data.marks_obtained }}</td>
        <td>{{ data.total_marks }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Wrongly Attempted Questions</h3>
<table>
    <tr>
        <th>Question</th>
        <th>Your Answer</th>
        <th>Correct Answer</th>
    </tr>
    {% for wq in wrong_questions %}
    <tr>
        <td>{{ wq.question }}</td>
        <td>{{ wq.student_answer }}</td>
        <td>{{ wq.correct_answer }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Total Marks: {{ total_marks_obtained }} / {{ total_marks }}</h3>
